From 44adf1878d064b49b72ab6d3cd704fe6f9f57703 Mon Sep 17 00:00:00 2001
From: ElXreno <elxreno@gmail.com>
Date: Tue, 31 Dec 2019 10:00:41 +0300
Subject: [PATCH 1/3] Added AppData manifest

---
 CMakeLists.txt          |  1 +
 other/ddnet.appdata.xml | 36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+)
 create mode 100644 other/ddnet.appdata.xml

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 9588d8100..0b7f038d5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1420,6 +1420,7 @@ if(NOT DEV)
   install(TARGETS ${TARGET_SERVER} DESTINATION ${CMAKE_INSTALL_BINDIR} COMPONENT server)
   install(TARGETS ${TARGETS_TOOLS} DESTINATION ${CMAKE_INSTALL_LIBDIR}/ddnet COMPONENT tools)
   install(FILES other/ddnet.desktop DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/applications COMPONENT client)
+  install(FILES other/ddnet.appdata.xml DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/metainfo COMPONENT client)
   foreach(SIZE 16 32 48 128 256 512)
     install(FILES other/icons/DDNet_${SIZE}x${SIZE}x32.png DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/icons/hicolor/${SIZE}x${SIZE}/apps RENAME ddnet.png COMPONENT client)
   endforeach()
diff --git a/other/ddnet.appdata.xml b/other/ddnet.appdata.xml
new file mode 100644
index 000000000..b7a25e387
--- /dev/null
+++ b/other/ddnet.appdata.xml
@@ -0,0 +1,36 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<component type="desktop-application">
+    <id>ddnet.desktop</id>
+    <metadata_license>CC0-1.0</metadata_license>
+    <project_license>CC-BY-SA and ASL 2.0</project_license>
+    <name>DDNet</name>
+    <summary>
+        DDraceNetwork, a cooperative racing mod of Teeworlds
+    </summary>
+    <description>
+        <p>
+            Welcome To DDraceNetwork (DDNet)!
+            </p><p>
+            DDraceNetwork is an actively maintained version of DDRace,
+            a Teeworlds modification with a unique cooperative gameplay.
+            Help each other play through custom maps with up to 64 players,
+            compete against the best in international tournaments, design your
+            own maps, or run your own server.
+        </p>
+    </description>
+    <screenshots>
+        <screenshot type="default">
+            <image>https://ddnet.tw/brainduck2.png</image>
+        </screenshot>
+    </screenshots>
+    <keywords>
+        <keyword>multiplayer</keyword>
+        <keyword>teeworlds</keyword>
+        <keyword>game</keyword>
+    </keywords>
+    <url type="homepage">https://ddnet.tw/</url>
+    <url type="bugtracker">https://github.com/ddnet/ddnet/issues</url>
+    <provides>
+        <binary>DDNet</binary>
+    </provides>
+</component>

From 31b228e7dc7b1534156a367383c7d25e836cf939 Mon Sep 17 00:00:00 2001
From: ElXreno <elxreno@gmail.com>
Date: Tue, 31 Dec 2019 10:48:45 +0300
Subject: [PATCH 2/3] Fixed license naming

---
 other/ddnet.appdata.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/other/ddnet.appdata.xml b/other/ddnet.appdata.xml
index b7a25e387..6a3084cc7 100644
--- a/other/ddnet.appdata.xml
+++ b/other/ddnet.appdata.xml
@@ -2,7 +2,7 @@
 <component type="desktop-application">
     <id>ddnet.desktop</id>
     <metadata_license>CC0-1.0</metadata_license>
-    <project_license>CC-BY-SA and ASL 2.0</project_license>
+    <project_license>CC-BY-SA-3.0 and Apache-2.0</project_license>
     <name>DDNet</name>
     <summary>
         DDraceNetwork, a cooperative racing mod of Teeworlds

From 375e43e98b53d469cff2e0b42d89d8759f522182 Mon Sep 17 00:00:00 2001
From: Artem Polishchuk <tim77@users.noreply.github.com>
Date: Tue, 31 Dec 2019 09:56:29 +0200
Subject: [PATCH 3/3] Add donation link (#2)

---
 other/ddnet.appdata.xml | 1 +
 1 file changed, 1 insertion(+)

diff --git a/other/ddnet.appdata.xml b/other/ddnet.appdata.xml
index 6a3084cc7..578285651 100644
--- a/other/ddnet.appdata.xml
+++ b/other/ddnet.appdata.xml
@@ -30,6 +30,7 @@
     </keywords>
     <url type="homepage">https://ddnet.tw/</url>
     <url type="bugtracker">https://github.com/ddnet/ddnet/issues</url>
+    <url type="donation">https://www.paypal.me/ddnet</url>
     <provides>
         <binary>DDNet</binary>
     </provides>
